(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{635:function(t,s,a){t.exports=a.p+"assets/img/1543760225002.b86fc35f.png"},636:function(t,s,a){t.exports=a.p+"assets/img/1545105308202.adcefcba.png"},704:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"服务端编程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务端编程"}},[t._v("#")]),t._v(" 服务端编程")]),t._v(" "),n("p",[t._v("学习 Node.js 的目的是为了后续的 Web 应用开发，所以要有了解 Node.js 的开发过程。")]),t._v(" "),n("h2",{attrs:{id:"全局对象和全局变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局对象和全局变量"}},[t._v("#")]),t._v(" 全局对象和全局变量")]),t._v(" "),n("p",[t._v("了解 Node 的最基本成员以及核心概念")]),t._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 中文文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 官网"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"全局对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局对象"}},[t._v("#")]),t._v(" 全局对象")]),t._v(" "),n("h4",{attrs:{id:"global"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#global"}},[t._v("#")]),t._v(" global")]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"http://nodejs.cn/api/globals.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("全局变量"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("类似于客户端  JavaScript 运行环境中的 window")])]),t._v(" "),n("li",[n("p",[t._v("node.js 中的全局对象是 "),n("code",[t._v("global")]),t._v("，全局对象中的成员直接使用不需要包含它")])])]),t._v(" "),n("h3",{attrs:{id:"全局变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局变量"}},[t._v("#")]),t._v(" 全局变量")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("process")]),t._v(" "),n("ul",[n("li",[t._v("进程：每一个 正在运行 的应用程序都称之为进程")]),t._v(" "),n("li",[t._v("用于获取当前的 Node 进程信息，一般用于获取环境变量之类的信息")]),t._v(" "),n("li",[t._v("process.cwd()  获取 Node的"),n("strong",[t._v("工作目录")]),t._v("(执行 Node 程序的目录)")])])]),t._v(" "),n("li",[n("p",[t._v("console")]),t._v(" "),n("ul",[n("li",[t._v("Node.js 中内置的 console 模块，提供操作控制台的输出功能，常见使用方式与客户端类似")])])])]),t._v(" "),n("h3",{attrs:{id:"全局函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#全局函数"}},[t._v("#")]),t._v(" 全局函数")]),t._v(" "),n("ul",[n("li",[t._v("setInterval/clearInterval")]),t._v(" "),n("li",[t._v("setTimeout/clearTimeout")])]),t._v(" "),n("h2",{attrs:{id:"模块系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块系统"}},[t._v("#")]),t._v(" 模块系统")]),t._v(" "),n("ul",[n("li",[t._v("解决恼人的命名冲突")]),t._v(" "),n("li",[t._v("解决繁琐的文件依赖")])]),t._v(" "),n("blockquote",[n("p",[t._v("JavaScript一直没有模块（module）体系， 无法将一个大程序拆分成互相依赖的小文件。")])]),t._v(" "),n("h3",{attrs:{id:"什么是模块系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是模块系统"}},[t._v("#")]),t._v(" 什么是模块系统")]),t._v(" "),n("img",{attrs:{src:a(635)}}),t._v(" "),n("ul",[n("li",[n("p",[t._v("现实角度（手机、电脑）")]),t._v(" "),n("ul",[n("li",[t._v("生产效率高")]),t._v(" "),n("li",[t._v("可维护性好")])])]),t._v(" "),n("li",[n("p",[t._v("程序角度")]),t._v(" "),n("ul",[n("li",[t._v("就是把大一个文件中很多的代码拆分到不同的小文件中，每个小文件就称之为一个模块")]),t._v(" "),n("li",[t._v("在 node.js 中，每一个 js 文件就是一个模块")]),t._v(" "),n("li",[t._v("每个模块有自己的作用域，"),n("strong",[t._v("模块之间可以相互通信(相互依赖)")])]),t._v(" "),n("li",[t._v("开发效率高")]),t._v(" "),n("li",[t._v("可维护性好")])])])]),t._v(" "),n("h3",{attrs:{id:"node-js-中的模块化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-js-中的模块化"}},[t._v("#")]),t._v(" Node.js 中的模块化")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Node.js 采用的模块化结构是按照 CommonJS 规范(CommonJS 就是一套约定标准，不是技术)")])]),t._v(" "),n("li",[n("p",[t._v("模块与文件是一一对应关系，即加载一个模块，实际上就是加载对应的一个模块文件")])]),t._v(" "),n("li",[n("p",[t._v("每一个模块都有自己的作用域")])]),t._v(" "),n("li",[n("p",[t._v("模块开发的流程")])])]),t._v(" "),n("img",{attrs:{src:a(636)}}),t._v(" "),n("h3",{attrs:{id:"模块的通信规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块的通信规则"}},[t._v("#")]),t._v(" 模块的通信规则")]),t._v(" "),n("h4",{attrs:{id:"导出模块-module-exports"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导出模块-module-exports"}},[t._v("#")]),t._v(" 导出模块 "),n("code",[t._v("module.exports")])]),t._v(" "),n("p",[t._v("提供一个可以进行数学运算的模块，新建文件 "),n("code",[t._v("math.js")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sub")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("p",[t._v("导出模块中的成员：可以是方法也可以是属性")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h4",{attrs:{id:"导入模块-require"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导入模块-require"}},[t._v("#")]),t._v(" 导入模块 "),n("code",[t._v("require")])]),t._v(" "),n("p",[t._v("导入自己写的模块，注意要使用"),n("strong",[t._v("相对路径")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意 ./ 不能省略")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" math "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./math.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h4",{attrs:{id:"导出模块的其它写法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导出模块的其它写法"}},[t._v("#")]),t._v(" 导出模块的其它写法")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("写法一，exports 导出")]),t._v(" "),n("p",[t._v("跟刚刚书写的类似，"),n("strong",[t._v("推荐")]),t._v("使用这种方式，更简洁")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("exports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sub")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])])]),t._v(" "),n("li",[n("p",[t._v("写法二，module.exports 导出")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 导出对象")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 导出函数")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 导出数据")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br")])]),n("p",[t._v("注意：导出单个模块只能使用 "),n("code",[t._v("module.exports")]),t._v("，不能使用 "),n("code",[t._v("exports")]),t._v("，见下一小结")])])]),t._v(" "),n("h4",{attrs:{id:"require-加载模块的过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#require-加载模块的过程"}},[t._v("#")]),t._v(" require 加载模块的过程")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" math "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./math'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",[n("li",[n("p",[t._v("加载 math.js 模块")])]),t._v(" "),n("li",[n("p",[t._v("创建 module 对象")])]),t._v(" "),n("li",[n("p",[t._v("创建 module.exports = {}，exports = module.exports")])]),t._v(" "),n("li",[n("p",[t._v("执行模块中的所有代码")])]),t._v(" "),n("li",[n("p",[t._v("返回(导出) module.exports 指向的对象")])])]),t._v(" "),n("h4",{attrs:{id:"exports-和-module-exports-的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exports-和-module-exports-的区别"}},[t._v("#")]),t._v(" "),n("code",[t._v("exports")]),t._v("  和  "),n("code",[t._v("module.exports")]),t._v("  的区别")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("module.exports")]),t._v(" "),n("ul",[n("li",[t._v("每个模块中都有一个 "),n("code",[t._v("module")]),t._v(" 对象")]),t._v(" "),n("li",[t._v("module 对象中有一个 "),n("code",[t._v("exports")]),t._v(" 对象，"),n("strong",[t._v("模块最终导出的是此对象  module.exports 指向的对象")])])])]),t._v(" "),n("li",[n("code",[t._v("exports")]),t._v(" "),n("ul",[n("li",[t._v("每一个模块中提供了一 个成员："),n("code",[t._v("exports")])]),t._v(" "),n("li",[n("code",[t._v("exports")]),t._v(" 指向了 "),n("code",[t._v("module.exports")]),t._v("，"),n("code",[t._v("exports = module.exports")])]),t._v(" "),n("li",[n("strong",[t._v("但是 不要给  exports 直接赋值")])]),t._v(" "),n("li",[t._v("画图分析")])])])]),t._v(" "),n("h3",{attrs:{id:"模块内的全局环境-伪"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块内的全局环境-伪"}},[t._v("#")]),t._v(" 模块内的全局环境(伪)")]),t._v(" "),n("p",[t._v("http://nodejs.cn/api/globals.html")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("__filename")]),t._v(" "),n("ul",[n("li",[t._v("用于获取当前文件所在目录的完整路径")]),t._v(" "),n("li",[t._v("在 REPL 环境无效")])])]),t._v(" "),n("li",[n("strong",[t._v("__dirname")]),t._v(" "),n("ul",[n("li",[t._v("用来获取当前文件的完整路径")]),t._v(" "),n("li",[t._v("在 REPL 环境同样无效")])])]),t._v(" "),n("li",[t._v("module\n"),n("ul",[n("li",[t._v("模块对象")]),t._v(" "),n("li",[n("strong",[t._v("module.exports")]),t._v("  模块中最终导出的对象")]),t._v(" "),n("li",[t._v("module.id 模块的识别符，通常是带有绝对路径的模块文件名")]),t._v(" "),n("li",[t._v("module.filename 模块定义的文件的绝对路径。")])])]),t._v(" "),n("li",[t._v("exports\n"),n("ul",[n("li",[t._v("映射到 module.exports 的别名")])])]),t._v(" "),n("li",[t._v("require()\n"),n("ul",[n("li",[t._v("加载"),n("strong",[t._v("文件模块")]),t._v("时候可以省略后缀名，默认加载 "),n("code",[t._v(".js")]),t._v(" 文件")]),t._v(" "),n("li",[n("code",[t._v("require")]),t._v(" 的基本功能是，读入并执行一个 JavaScript 文件，然后返回该模块的 module.exports 对象。")]),t._v(" "),n("li",[t._v("如果没有发现指定模块，会报错。")])])])]),t._v(" "),n("h3",{attrs:{id:"模块分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#模块分类"}},[t._v("#")]),t._v(" 模块分类")]),t._v(" "),n("p",[t._v("在 Node 中对模块的一个具体分类，一共就三种类别：")]),t._v(" "),n("ul",[n("li",[t._v("文件模块\n"),n("ul",[n("li",[t._v("就是我们自己写的功能模块文件")])])]),t._v(" "),n("li",[t._v("核心模块\n"),n("ul",[n("li",[t._v("Node 平台自带的一套基本的功能模块，也有人称之为 Node 平台的 API")])])]),t._v(" "),n("li",[t._v("第三方模块\n"),n("ul",[n("li",[t._v("社区或第三方个人开发好的功能模块，可以直接拿回来用")]),t._v(" "),n("li",[t._v("使用的时候我们需要通过 "),n("code",[t._v("npm")]),t._v(" 进行下载然后才可以加载使用，例如： "),n("code",[t._v("moment")]),t._v("、"),n("code",[t._v("marked")])])])])]),t._v(" "),n("h2",{attrs:{id:"核心模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#核心模块"}},[t._v("#")]),t._v(" 核心模块")]),t._v(" "),n("blockquote",[n("p",[t._v("参考文档：")]),t._v(" "),n("p",[t._v("官网文档 https://nodejs.org/dist/latest-v10.x/docs/api/")]),t._v(" "),n("p",[t._v("中文文档 http://nodejs.cn/api/")]),t._v(" "),n("p",[t._v("学会查 API，远远比会几个 API 更重要")])]),t._v(" "),n("ul",[n("li",[t._v("核心模块就是 Node 内置的模块，需要通过唯一的标识名称来进行获取。")]),t._v(" "),n("li",[t._v("每一个核心模块基本上都是暴露了一个对象，里面包含一些方法供我们使用")]),t._v(" "),n("li",[t._v("一般在加载核心模块的时候，变量的起名最好就和核心模块的标识名同名即可\n"),n("ul",[n("li",[t._v("例如："),n("code",[t._v("const fs = require('fs')")])])])])]),t._v(" "),n("h3",{attrs:{id:"path-模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#path-模块"}},[t._v("#")]),t._v(" "),n("code",[t._v("path")]),t._v(" 模块")]),t._v(" "),n("ul",[n("li",[t._v("http://nodejs.cn/api/path.html")]),t._v(" "),n("li",[t._v("操作文件的时候经常要对文件的路径做处理，或者获取文件的后缀，使用 "),n("code",[t._v("path")]),t._v(" 模块。")]),t._v(" "),n("li",[n("code",[t._v("path")]),t._v(" 是 Node 本身提供的一个核心模块，专门用来处理路径。")]),t._v(" "),n("li",[n("code",[t._v("path")]),t._v(" 仅仅用来处理路径的字符串，不一定存在对应的物理文件。")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用核心模块之前，首先加载核心模块")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h4",{attrs:{id:"获取后缀"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#获取后缀"}},[t._v("#")]),t._v(" 获取后缀")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("path.extname()")])]),t._v(" "),n("li",[n("p",[t._v("获取一个路径的后缀名部分(包含.)")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '.html'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.coffee.md'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '.md'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '.'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: ''")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.index'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: ''")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br")])])])]),t._v(" "),n("h4",{attrs:{id:"拼接路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拼接路径"}},[t._v("#")]),t._v(" 拼接路径")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("path.join()")]),t._v(" "),n("ul",[n("li",[t._v("将多个路径拼接为一个")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'baz/asdf'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quux'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'..'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '/foo/bar/baz/asdf'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// throws 'TypeError: Path must be a string. Received {}'")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])])]),t._v(" "),n("li",[n("p",[t._v("path.resolve()")]),t._v(" "),n("ul",[n("li",[t._v("类似于 "),n("code",[t._v("path.join()")]),t._v(" 拼接路径")]),t._v(" "),n("li",[t._v("不同之处在于：把当前的"),n("strong",[t._v("工作目录")]),t._v("作为基准目录进行拼接\n"),n("ul",[n("li",[t._v("工作目录：当前运行 Node 程序的目录")]),t._v(" "),n("li",[t._v("支持  / 根目录，*"),n("em",[t._v("根目录：盘符 c:*")])])])])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./baz'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '/foo/bar/baz'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/foo/bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/file/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns: '/tmp/file'")]),t._v("\n\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wwwroot'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static_files/png/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../gif/image.gif'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if the current working directory is /home/myself/node,")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this returns '/home/myself/node/wwwroot/static_files/gif/image.gif'")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br")])])])]),t._v(" "),n("h4",{attrs:{id:"常用-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用-api"}},[t._v("#")]),t._v(" 常用 API")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("方法")]),t._v(" "),n("th",[t._v("作用")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("path.basename(path[, ext])")]),t._v(" "),n("td",[t._v("返回 path 的最后一部分(文件名)")])]),t._v(" "),n("tr",[n("td",[t._v("path.dirname(path)")]),t._v(" "),n("td",[t._v("返回目录名")])]),t._v(" "),n("tr",[n("td",[t._v("path.extname(path)")]),t._v(" "),n("td",[t._v("返回路径中文件的扩展名(包含.)")])]),t._v(" "),n("tr",[n("td",[t._v("path.format(pathObject)")]),t._v(" "),n("td",[t._v("将一个对象格式化为一个路径字符串")])]),t._v(" "),n("tr",[n("td",[t._v("path.join([...paths])")]),t._v(" "),n("td",[t._v("拼接路径")])]),t._v(" "),n("tr",[n("td",[t._v("path.parse(path)")]),t._v(" "),n("td",[t._v("把路径字符串解析成对象的格式")])]),t._v(" "),n("tr",[n("td",[t._v("path.resolve([...paths])")]),t._v(" "),n("td",[t._v("基于当前"),n("strong",[t._v("工作目录")]),t._v("拼接路径")])])])]),t._v(" "),n("blockquote",[n("p",[t._v("工作目录：当前运行 Node 程序的目录")])]),t._v(" "),n("h3",{attrs:{id:"fs-模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#fs-模块"}},[t._v("#")]),t._v(" "),n("code",[t._v("fs")]),t._v(" 模块")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("http://nodejs.cn/api/fs.html")])]),t._v(" "),n("li",[n("p",[t._v("文件系统，对文件/文件夹的操作  file system")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用核心模块前，需要导入核心模块")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])])])]),t._v(" "),n("h4",{attrs:{id:"读取文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#读取文件"}},[t._v("#")]),t._v(" 读取文件")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("fs.readFile(path[, options], callback)")]),t._v(" "),n("ul",[n("li",[t._v("异步读取文件")]),t._v(" "),n("li",[t._v("options\n"),n("ul",[n("li",[t._v("可以设置编码")])])])])])]),t._v(" "),n("h4",{attrs:{id:"写入文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#写入文件"}},[t._v("#")]),t._v(" 写入文件")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v("fs.writeFile(file, data[, options], callback)")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("文件操作的路径")])]),t._v(" "),n("li",[n("p",[t._v("相对路径")]),t._v(" "),n("ul",[n("li",[t._v("相对于工作目录")]),t._v(" "),n("li",[t._v("工作目录：运行 Node.js 程序的文件夹")])])]),t._v(" "),n("li",[n("p",[t._v("绝对路径("),n("strong",[t._v("推荐")]),t._v(")")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// __dirname,当前.js文件所在的目录")]),t._v("\npath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xx.txt'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])])])])])]),t._v(" "),n("h4",{attrs:{id:"判断文件是否存在"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#判断文件是否存在"}},[t._v("#")]),t._v(" 判断文件是否存在")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("fs.access(path, callback)")])])]),t._v(" "),n("h4",{attrs:{id:"删除文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[t._v("#")]),t._v(" 删除文件")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("fs.unlink(path, callback)")])])]),t._v(" "),n("h4",{attrs:{id:"监视文件的变化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#监视文件的变化"}},[t._v("#")]),t._v(" 监视文件的变化")]),t._v(" "),n("ul",[n("li",[n("p",[n("code",[t._v("fs.watchFile(filename[, options], listener)")])]),t._v(" "),n("ul",[n("li",[t._v("options\n"),n("ul",[n("li",[n("code",[t._v("interval")]),t._v("  轮询文件的时间间隔，默认 5007")])])])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.md'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用绝对路径")]),t._v("\nfs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" interval"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxxxx'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])])])]),t._v(" "),n("h4",{attrs:{id:"常用-api-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用-api-2"}},[t._v("#")]),t._v(" 常用 API")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("API")]),t._v(" "),n("th",[t._v("作用")]),t._v(" "),n("th",[t._v("备注")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("fs.access(path, callback)")]),t._v(" "),n("td",[t._v("判断路径是否存在")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.appendFile(file, data, callback)")]),t._v(" "),n("td",[t._v("向文件中追加内容")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.copyFile(src, callback)")]),t._v(" "),n("td",[t._v("复制文件")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.mkdir(path, callback)")]),t._v(" "),n("td",[t._v("创建目录")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.readDir(path, callback)")]),t._v(" "),n("td",[t._v("读取目录列表")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.rename(oldPath, newPath, callback)")]),t._v(" "),n("td",[t._v("重命名文件/目录")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.rmdir(path, callback)")]),t._v(" "),n("td",[t._v("删除目录")]),t._v(" "),n("td",[t._v("只能删除空目录")])]),t._v(" "),n("tr",[n("td",[t._v("fs.stat(path, callback)")]),t._v(" "),n("td",[t._v("获取文件/目录信息")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.unlink(path, callback)")]),t._v(" "),n("td",[t._v("删除文件")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.watch(filename[, options][, listener])")]),t._v(" "),n("td",[t._v("监视文件/目录")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("fs.watchFile(filename[, options], listener)")]),t._v(" "),n("td",[t._v("监视文件")]),t._v(" "),n("td")])])]),t._v(" "),n("h3",{attrs:{id:"常用核心模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用核心模块"}},[t._v("#")]),t._v(" 常用核心模块")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("模块名称")]),t._v(" "),n("th",[t._v("作用")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/fs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("fs"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("文件操作")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/http.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("网络操作")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/path.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("path"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("路径操作")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/url.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("url"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("url 地址操作")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/os.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("os"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("操作系统信息")])]),t._v(" "),n("tr",[n("td",[n("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("querystring"),n("OutboundLink")],1)]),t._v(" "),n("td",[t._v("解析查询字符串")])]),t._v(" "),n("tr",[n("td",[t._v("...")]),t._v(" "),n("td",[t._v("...")])])])]),t._v(" "),n("p",[n("strong",[t._v("核心模块本质上也是文件模块")])]),t._v(" "),n("ul",[n("li",[t._v("核心模块已经被编译到了 node 的可执行程序，一般看不到")]),t._v(" "),n("li",[t._v("可以通过查看 node 的源码看到核心模块文件")])]),t._v(" "),n("h2",{attrs:{id:"第三方模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第三方模块"}},[t._v("#")]),t._v(" 第三方模块")]),t._v(" "),n("ul",[n("li",[t._v("社区或第三方个人开发好的功能模块，可以直接拿回来用。使用之前可以去 "),n("code",[t._v("github")]),t._v(" 搜索使用的规则。")]),t._v(" "),n("li",[t._v("需要使用到 "),n("code",[t._v("npm")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("npm")]),t._v(" 是 Node.js 中自带的包管理器，是一个全局的命令行工具")]),t._v(" "),n("li",[n("code",[t._v("npm")]),t._v(" 也是一个网站 https://npmjs.com")])])])]),t._v(" "),n("h3",{attrs:{id:"演示第三方模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#演示第三方模块"}},[t._v("#")]),t._v(" 演示第三方模块")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("创建项目文件夹 "),n("code",[t._v("demo")])])]),t._v(" "),n("li",[n("p",[t._v("在命令行切换到 "),n("code",[t._v("demo")]),t._v(" 文件夹")])]),t._v(" "),n("li",[n("p",[t._v("初始化 "),n("code",[t._v("package.json")])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 切换到 demo 文件夹，在命令行运行(确保当前文件夹没有中文)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init -y\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("blockquote",[n("p",[t._v("注意："),n("strong",[t._v("项目文件夹不能有中文")])])])]),t._v(" "),n("li",[n("p",[t._v("安装需要的第三方模块")])])]),t._v(" "),n("h3",{attrs:{id:"moment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#moment"}},[t._v("#")]),t._v(" moment")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("一个强大的第三方模块，对日期进行处理")])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"http://momentjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("moment 官网"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("Node.js / 浏览器环境都可以使用")])]),t._v(" "),n("li",[n("p",[t._v("安装")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要联网，通过网络下载第三方包")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" moment\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("blockquote",[n("p",[t._v("第三方包，默认被下载到 node_modules 文件夹")])])]),t._v(" "),n("li",[n("p",[t._v("使用")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" moment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'moment'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("moment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YYYY-MM-DD HH:mm:ss'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])])])]),t._v(" "),n("h3",{attrs:{id:"marked"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#marked"}},[t._v("#")]),t._v(" marked")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("一个 markdown 语法的编译器，能够把 markdown 语法转换成 HTML。")])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://github.com/markedjs/marked",target:"_blank",rel:"noopener noreferrer"}},[t._v("marked 官网"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("Node.js / 浏览器环境都可以使用")])]),t._v(" "),n("li",[n("p",[t._v("安装")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" marked\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])])]),t._v(" "),n("li",[n("p",[t._v("使用")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" marked "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'marked'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" html "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("marked")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'# Marked in the browser\\n\\nRendered by **marked**.'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])])])]),t._v(" "),n("h3",{attrs:{id:"案例：markdown-文件转换器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例：markdown-文件转换器"}},[t._v("#")]),t._v(" 案例：Markdown 文件转换器")]),t._v(" "),n("blockquote",[n("p",[t._v("需求：用户编写 md 格式的文件，"),n("strong",[t._v("实时")]),t._v("的编译成 html 文件")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监视文件的变化")]),t._v("\nfs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.md'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("curr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prev")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 读取1.md的内容，保存到1.html中")]),t._v("\n  fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.md'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" html "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("marked")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.html'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ok'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("h2",{attrs:{id:"同步和异步"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#同步和异步"}},[t._v("#")]),t._v(" 同步和异步")]),t._v(" "),n("h3",{attrs:{id:"同步和异步-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#同步和异步-2"}},[t._v("#")]),t._v(" 同步和异步")]),t._v(" "),n("ul",[n("li",[t._v("sync 同步，async 异步")]),t._v(" "),n("li",[t._v("I/O 操作都是耗时(阻塞)操作，例如：文件操作、网络操作")]),t._v(" "),n("li",[n("code",[t._v("fs")]),t._v(" 模块对文件的几乎所有操作都有同步和异步两种形式\n"),n("ul",[n("li",[t._v("例如："),n("code",[t._v("readFile()")]),t._v(" 和 "),n("code",[t._v("readFileSync()")]),t._v("。")])])]),t._v(" "),n("li",[t._v("同步与异步文件系统调用的区别\n"),n("ul",[n("li",[n("strong",[t._v("同步")]),t._v("调用立即执行，会"),n("strong",[t._v("阻塞")]),t._v("后续代码继续执行")]),t._v(" "),n("li",[n("strong",[t._v("异步")]),t._v("调用"),n("strong",[t._v("不阻塞")]),t._v("后续代码继续执行，需要"),n("strong",[t._v("回调函数")]),t._v("作为额外的参数，通常包含一个错误作为回调函数的第一个参数")]),t._v(" "),n("li",[t._v("异步调用通过判断第一个 err 对象来处理异常")]),t._v(" "),n("li",[n("strong",[t._v("异步调用结果往往通过回调函数来进行获取")])])])])]),t._v(" "),n("blockquote",[n("p",[t._v("Node 只在文件IO操作中，提供了同步调用和异步调用两种形式，两者可以结合使用，\n但是推荐能使用异步调用解决问题的情况下，少用同步调用。")])]),t._v(" "),n("h3",{attrs:{id:"进程和线程-了解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进程和线程-了解"}},[t._v("#")]),t._v(" 进程和线程(了解)")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("进程")]),t._v(" "),n("ul",[n("li",[t._v("正在执行的应用程序")]),t._v(" "),n("li",[t._v("一个进程至少有一个线程")])])]),t._v(" "),n("li",[n("p",[t._v("线程")]),t._v(" "),n("ul",[n("li",[t._v("用来执行应用程序中的代码")]),t._v(" "),n("li",[t._v("在一个进程内部，可以有很多的线程，至少有一个线程")]),t._v(" "),n("li",[t._v("在一个线程内部，同时只可以干一件事")]),t._v(" "),n("li",[t._v("而且传统的开发方式大部分都是 I/O 阻塞的")]),t._v(" "),n("li",[t._v("所以需要多线程来更好的利用硬件资源")]),t._v(" "),n("li",[t._v("给人带来一种错觉：线程越多越好(线程的创建需要耗时，线程本身需要占用内存)")])])]),t._v(" "),n("li",[n("p",[t._v("Node.js 是单线程的")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Node.js 用来执行 js 的线程只有一个")])]),t._v(" "),n("li",[n("p",[t._v("Node.js (libuv)内部维护了一个线程池")])]),t._v(" "),n("li",[n("p",[t._v("Node 中将所有的阻塞操作交给了内部实现的线程池")])]),t._v(" "),n("li",[n("p",[t._v("Node 本身主线程主要就是不断的往返调度")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);